!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports["svg-slimming"]=n():e["svg-slimming"]=n()}(global,function(){return function(e){var n={};function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=n,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)o.d(t,i,function(n){return e[n]}.bind(null,i));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="",o(o.s=25)}({11:function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.mixWhiteSpace=(e=>e.replace(/\s+/g," "))},25:function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=o(5);n.NodeType=t.NodeType;var i=o(26);n.parse=i.Parser},26:function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=o(5),i=o(27),d=o(28);n.REG_XML_DECL=d.REG_XML_DECL,n.REG_CDATA_SECT=d.REG_CDATA_SECT,n.REG_OTHER_SECT=d.REG_OTHER_SECT,n.REG_DOCTYPE=d.REG_DOCTYPE,n.REG_OTHER_DECL=d.REG_OTHER_DECL,n.REG_COMMENTS=d.REG_COMMENTS,n.REG_START_TAG=d.REG_START_TAG,n.REG_END_TAG=d.REG_END_TAG,n.REG_ATTR=d.REG_ATTR;const r=o(29),l=o(11),s=[[1,"xml-decl",d.REG_XML_DECL,t.NodeType.XMLDecl],[1,"cdata",d.REG_CDATA_SECT,t.NodeType.CDATA],[2,d.REG_OTHER_SECT,t.NodeType.OtherSect],[1,"doctype",d.REG_DOCTYPE,t.NodeType.DocType],[2,d.REG_OTHER_DECL,t.NodeType.OtherDecl],[1,"comments",d.REG_COMMENTS,t.NodeType.Comments]],p=(e,n,o)=>{for(;o.lastpos<e;o.lastpos++)"\r"===n[o.lastpos]||"\n"===n[o.lastpos]?"\r"!==n[o.lastpos]&&"\r"===n[o.lastpos-1]||(o.line++,o.pos=0):o.pos++},a=(e,n,o)=>{const t=e[2];t.lastIndex=o;const d=t.exec(n);return d&&d.index===o?{node:new i.Node({nodeType:e[3],nodeName:`#${e[1]}`,textContent:d[1]}),lastIndex:t.lastIndex}:null},u=(e,n,o)=>{const t=e[1];t.lastIndex=o;const d=t.exec(n);return d&&d.index===o?{node:new i.Node({nodeType:e[2],nodeName:`#${d[1].toLowerCase()}`,textContent:d[2]}),lastIndex:t.lastIndex}:null},T=(e,n,o)=>{const T=/</g;T.lastIndex=o;const c=T.exec(e);if(c){if(c.index===o){for(const n of s)if(1===n[0]){const t=a(n,e,o);if(t)return t}else{const t=u(n,e,o);if(t)return t}const l=((e,n,o)=>{d.REG_START_TAG.lastIndex=o;const l=d.REG_START_TAG.exec(e);if(l&&l.index===o){const e={line:n.line,pos:n.pos,lastpos:0},o={node:new i.Node({nodeType:t.NodeType.Tag,nodeName:l[1],namespace:"",selfClose:"/"===l[3]}),lastIndex:d.REG_START_TAG.lastIndex};if(l[1].includes(":")){const e=l[1].split(":");if(2!==e.length||!e[0]||!e[1])throw new Error(`Wrong start tag! at ${n.line}:${n.pos}`);o.node.nodeName=e[1],o.node.namespace=e[0]}p(l[1].length+1,l[0],e),d.REG_ATTR.lastIndex=0;let s=d.REG_ATTR.exec(l[2]);const a={};for(;s;){if(p(s.index+l[1].length+1,l[0],e),a[s[1]])throw new Error(`Duplicate property names! at ${e.line}:${e.pos}`);if(a[s[1]]=!0,s[1].includes(":")){const t=s[1].split(":");if(2!==t.length||!t[0]||!t[1])throw new Error(`Wrong attribute name! at ${e.line+n.line-1}:${e.line>1?e.pos:n.pos+e.pos}`);o.node.setAttribute(t[1],r.collapseQuot(s[2]).trim(),t[0])}else o.node.setAttribute(s[1],r.collapseQuot(s[2]).trim());s=d.REG_ATTR.exec(l[2])}return o}return null})(e,n,o);if(l)return l;const T=((e,n,o)=>{d.REG_END_TAG.lastIndex=o;const r=d.REG_END_TAG.exec(e);if(r&&r.index===o){const e={node:new i.Node({nodeType:t.NodeType.EndTag,nodeName:r[1],namespace:""}),lastIndex:d.REG_END_TAG.lastIndex};if(r[1].includes(":")){const o=r[1].split(":");if(2!==o.length||!o[1]||!o[0])throw new Error(`Wrong end tag! at ${n.line}:${n.pos}`);e.node.nodeName=o[1],e.node.namespace=o[0]}return e}return null})(e,n,o);if(T)return T;throw new Error(`Failed to parse tags! at ${n.line}:${n.pos}`)}return{node:new i.Node({nodeType:t.NodeType.Text,nodeName:"#text",textContent:l.mixWhiteSpace(e.slice(o,c.index))}),lastIndex:c.index}}return{node:new i.Node({nodeType:t.NodeType.Text,nodeName:"#text",textContent:l.mixWhiteSpace(e.slice(o))}),lastIndex:e.length}};n.Parser=(async e=>new Promise((n,o)=>{const d=new i.Node({nodeType:t.NodeType.Document,nodeName:"#document"}),r=[],l={line:1,pos:0,lastpos:0},s=e.length;let a,u=!1;const c=e.indexOf("<");if(c>0&&!/^\s+</.test(e))o(new Error(`Unexpected text node! at ${l.line}:${l.pos}`));else{try{a=T(e,l,c)}catch(e){return void o(e)}if(a.node.nodeType===t.NodeType.XMLDecl&&c>0)o(new Error(`The xml declaration must be at the front of the document! at ${l.line}:${l.pos}`));else{for(d.appendChild(a.node),a.node.nodeType===t.NodeType.Tag&&(u=!0,a.node.selfClose||r.push(a.node));a.lastIndex<s;){p(a.lastIndex,e,l);try{a=T(e,l,a.lastIndex)}catch(e){return void o(e)}const n=r.length;if(a.node.nodeType===t.NodeType.EndTag){if(!n)return void o(new Error(`Unexpected end tag! at ${l.line}:${l.pos}`));if(r[n-1].nodeName!==a.node.nodeName||r[n-1].namespace!==a.node.namespace)return void o(new Error(`The start and end tags cannot match! at ${l.line}:${l.pos}`));{const e=r[n-1].childNodes;e&&e.length||(r[n-1].selfClose=!0),r.pop()}}else{if(n)r[n-1].appendChild(a.node);else if(a.node.nodeType===t.NodeType.Text||a.node.nodeType===t.NodeType.CDATA){if(a.node.textContent.replace(/\s/g,""))return void o(new Error(`Unexpected text node! at ${l.line}:${l.pos}`))}else d.appendChild(a.node);if(a.node.nodeType===t.NodeType.Tag){if(!n){if(u)return void o(new Error(`Only one root element node is allowed! at ${l.line}:${l.pos}`));u=!0}a.node.selfClose||r.push(a.node)}}a.lastIndex===s&&p(s,e,l)}r.length?o(new Error(`Document structure is wrong! at ${l.line}:${l.pos}`)):u?n(d):o(new Error(`No root element node! at ${l.line}:${l.pos}`))}}}))},27:function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=o(5);class i{constructor(e){this.nodeName=e.nodeName,this.nodeType=e.nodeType,this.namespace=e.namespace,this.selfClose=e.selfClose,this.textContent=e.textContent,this.nodeType!==t.NodeType.Tag&&this.nodeType!==t.NodeType.Document||(this.attributes=[],this.childNodes=[])}cloneNode(){const e=new i({nodeName:this.nodeName,nodeType:this.nodeType,namespace:this.namespace,textContent:this.textContent});return this.attributes&&(e.attributes=this.attributes.map(e=>({name:e.name,value:e.value,fullname:e.fullname,namespace:e.namespace}))),e}appendChild(e){this.childNodes&&(e.parentNode&&e.parentNode.removeChild(e),this.childNodes.push(e),e.parentNode=this)}insertBefore(e,n){if(this.childNodes){e.parentNode&&e.parentNode.removeChild(e);const o=this.childNodes.indexOf(n);-1!==o?this.childNodes.splice(o,0,e):this.childNodes.push(e),e.parentNode=this}}replaceChild(e,...n){if(this.childNodes){const o=this.childNodes.indexOf(e);-1!==o&&(n.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e),e.parentNode=this}),this.childNodes.splice(o,1,...n),delete e.parentNode)}}removeChild(e){if(this.childNodes){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n,1),delete e.parentNode)}}hasAttribute(e,n){if(this.attributes)for(const o of this.attributes)if(!n&&o.fullname===e||o.name===e&&o.namespace===n)return!0;return!1}getAttribute(e,n){if(this.attributes)for(const o of this.attributes)if(!n&&o.fullname===e||o.name===e&&o.namespace===n)return o.value;return null}setAttribute(e,n,o){if(this.attributes){for(const t of this.attributes)if(!o&&t.fullname===e||t.name===e&&t.namespace===o)return void(t.value=n);const t={name:e,value:n,fullname:e};o&&(t.fullname=`${o}:${e}`,t.namespace=o),this.attributes.push(t)}}removeAttribute(e,n){if(this.attributes)for(let o=this.attributes.length;o--;){const t=this.attributes[o];if(!n&&t.fullname===e||t.name===e&&t.namespace===n){this.attributes.splice(o,1);break}}}}n.Node=i},28:function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});let t=!0;try{t=/\u{20BB7}/u.test("ð ®·")}catch(e){t=!1}const i=`:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD${t?"\\u{10000}-\\u{EFFFF}":""}`,d=`[${i}][${`${i}\\-\\.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040`}]*`,r="\\s*=\\s*",l="[A-Za-z](?:[A-Za-z0-9\\._]|-)*",s=`\\s+version${r}(?:'1\\.[0-9]+'|"1\\.[0-9]+")`,p=`\\s+encoding${r}(?:'${l}'|"${l}")`,a=`\\s+standalone${r}(?:'(?:yes|no)'|"(?:yes|no)")`,u=`(?:&${d};|&#[0-9]+;|&#x[0-9a-fA-F]+;)`,T=`"(?:[^<&"]|${u})*"|'(?:[^<&']|${u})*'`,c="(?:[^<>'\"]+|[^<>']*'[^']*'[^<>']*|[^<>\"]*\"[^\"]*\"[^<>\"]*|[^<>'\"]*<[^<>]*>[^<>'\"]*)+?";n.REG_XML_DECL=new RegExp(`<\\?xml(${s}(?:${p})?(?:${a})?\\s*)\\?>`,"g"),n.REG_CDATA_SECT=/<!\[CDATA\[([\d\D]*?)\]\]>/g,n.REG_OTHER_SECT=/<!\[\s?([A-Z]+)\s?\[([\d\D]*?)\]\]>/g,n.REG_DOCTYPE=new RegExp(`<!DOCTYPE\\s+(${c})>`,"g"),n.REG_OTHER_DECL=new RegExp(`<!([A-Z]+)\\s+(${c})>`,"g"),n.REG_COMMENTS=/<!--([\d\D]*?)-->/g,n.REG_START_TAG=new RegExp(`<(${d})((?:\\s+${d}${r}(?:${T}))*)\\s*(\\/?)>`,t?"gu":"g"),n.REG_END_TAG=new RegExp(`</(${d})\\s*>`,t?"gu":"g"),n.REG_ATTR=new RegExp(`(?:^|\\s)(${d})${r}(${T})`,t?"gu":"g")},29:function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.collapseQuot=(e=>e.slice(1,-1))},5:function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.EndTag=-1]="EndTag",e[e.Tag=1]="Tag",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.OtherSect=5]="OtherSect",e[e.OtherDecl=6]="OtherDecl",e[e.XMLDecl=7]="XMLDecl",e[e.Comments=8]="Comments",e[e.Document=9]="Document",e[e.DocType=10]="DocType"}(n.NodeType||(n.NodeType={}))}})});